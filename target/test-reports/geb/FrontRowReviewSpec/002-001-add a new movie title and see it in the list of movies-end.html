<html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>Front Row Reviews - Movies</title>
<link type="text/css" href="css/main.css" rel="stylesheet" />
<script lang="JavaScript" src="js/external/jquery-2.0.3.min.js"></script>
<script>
	function addMovieFromFormData() {
		$.ajax({
			type : "GET",
			url : "rest/movie",
			contentType : "application/json",
		}).done(function(response) {
			if(response){
				addToTable(response.movieViewModel);
			}
		});
	}

	function addToTable(data) {
		var table = document.createElement("table");
		table.setAttribute("class", "moviesTable");
		
		if(!data.length){
			addRow(table,data);
		} else {
			for (var i = 0; i &lt; data.length; i++) {
				var rowData = data[i];
				addRow(table,rowData);
			}
		}
		$('#tableLocation').append(table);
	}
	
	function addRow(table, rowData){
		var row = document.createElement("tr");
		var cell = document.createElement("td");
		cell.innerHTML = rowData.title;
		row.appendChild(cell);
		cell = document.createElement("td");
		cell.innerHTML = "&lt;a class=\"button\" href=\"#\"&gt;Review&lt;/a&gt;";
		row.appendChild(cell);
		table.appendChild(row);
	}
	
</script>

</head>
<body>

	<div id="header-nav"><div class="headerClass">
<center>
	<img border="0" src="images/frontrow-logo.png" />
</center>
</div>
<div class="headerLinks">
<a href="index.html" id="homeNavButton" class="button">Home</a>
<a href="list_movies.html" id="listMoviesNavButton" class="button">List Movies</a>
<a href="add_movie.html" id="addMovieNavButton" class="button">Add Movie</a>
</div>
</div>

	<script>
		$("#header-nav").load("/components/header.html");
	</script>
	<div class="contentClass">

		<h2>Movie list:</h2>

		<div id="tableLocation"><table class="moviesTable"><tr><td>Star Trek into darkness</td><td><a href="#" class="button">Review</a></td></tr></table></div>
		<script>
			addMovieFromFormData();
		</script>

		<div id="addMovieStatus"></div>
	</div>

</body></html>